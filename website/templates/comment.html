<!DOCTYPE html>
<html>

<head>
    <title>Table Example</title>
    <style>
        .container {
            display: flex;
        }
        
        .summary-table {
            margin-right: 20px;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }
        
        th,
        td {
            padding: 10px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        input[type="text"],
        select {
            width: 100%;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        /* Add this CSS to align the first column of each table */
        
        th:first-child,
        td:first-child {
            width: 150px;
        }
        /* Add this CSS to align the rows */
        
        td:first-child {
            vertical-align: top;
        }
        /* Add this CSS to change the colors of dropdown options */
        
        select.custom-color,
        input.custom-color {
            background-color: #f2f2f2;
            /* Default background color for the input and dropdown box */
        }
        
        select.custom-color option:nth-child(1) {
            background-color: red;
            color: white;
        }
        
        select.custom-color option:nth-child(2) {
            background-color: blue;
            color: white;
        }
        
        select.custom-color option:nth-child(3) {
            background-color: green;
            color: white;
        }
        
        select.custom-color option:nth-child(4) {
            background-color: yellow;
        }
        
        select.custom-color option:nth-child(5) {
            background-color: orange;
        }
        
        select.custom-color option:nth-child(6) {
            background-color: purple;
            color: white;
        }
        /* Add more styles for other options as needed */
    </style>
</head>

<body>
    <div class="container">
        <div class="summary-table">
            <table id="summary1">
                <tr>
                    <th>Option</th>
                    <th>Count</th>
                </tr>
                <tr>
                    <td>Fatal</td>
                    <td id="summary1-option1">0</td>
                </tr>
                <tr>
                    <td>Medium</td>
                    <td id="summary1-option2">0</td>
                </tr>
                <tr>
                    <td>Neutral</td>
                    <td id="summary1-option3">0</td>
                </tr>
                <tr>
                    <td>No Comments</td>
                    <td id="summary1-option4">0</td>
                </tr>
            </table>
        </div>

        <div class="summary-table">
            <table id="summary2">
                <tr>
                    <th>Option</th>
                    <th>Count</th>
                </tr>
                <tr>
                    <td>Further Dev</td>
                    <td id="summary2-option8">0</td>
                </tr>
                <tr>
                    <td>Accepted</td>
                    <td id="summary2-option5">0</td>
                </tr>
                <tr>
                    <td>Corrected</td>
                    <td id="summary2-option7">0</td>
                </tr>
                <tr>
                    <td>Rejected</td>
                    <td id="summary2-option6">0</td>
                </tr>
                <tr>
                    <td>No updates</td>
                    <td id="summary2-option9">0</td>
                </tr>
                <tr>
                    <td>Not Agreed</td>
                    <td id="summary2-option11">0</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="container">
        <div class="table-container">
            <table id="left"><br>
                <tr>
                    <th>Page/Slide</th>
                    <th>Chapter/Section</th>
                    <th>Review Comment</th>
                    <th>Seriousness</th>
                </tr>
                <tr>
                    <td><input type="text" class="custom-color" id="input1"></td>
                    <td><input type="text" class="custom-color" id="input2"></td>
                    <td><input type="text" class="custom-color" id="input3"></td>
                    <td>
                        <select id="table1-select1" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option1" style="background-color: red; color: white;">Fatal</option>
                            <option value="option2" style="background-color: blue; color: white;">Medium</option>
                            <option value="option3" style="background-color: green; color: white;">Neutral</option>
                            <option value="option4" style="background-color: yellow;">No Comments</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><input type="text" class="custom-color" id="input4"></td>
                    <td><input type="text" class="custom-color" id="input5"></td>
                    <td><input type="text" class="custom-color" id="input6"></td>
                    <td>
                        <select id="table1-select2" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option1" style="background-color: red; color: white;">Fatal</option>
                            <option value="option2" style="background-color: blue; color: white;">Medium</option>
                            <option value="option3" style="background-color: green; color: white;">Neutral</option>
                            <option value="option4" style="background-color: yellow;">No Comments</option>
                        </select>
                    </td>
                </tr>
                <!-- Add more rows as needed -->
            </table>
        </div>

        <div class="table-container">
            <table id="right">
                <tr>
                    <th>Reviewer's email id</th>
                    <th>Correction Status</th>
                    <th>Correction Comments</th>
                    <th>Agreed with reviewer (to be updated by the reviewer)</th>
                </tr>
                <tr>
                    <td><input type="text" class="custom-color" id="input7"></td>
                    <td>
                        <select id="table2-select1" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option5" style="background-color: blue; color: white;">Accepted</option>
                            <option value="option6" style="background-color: red; color: white;">Rejected</option>
                            <option value="option7" style="background-color: green; color: white;">Corrected</option>
                            <option value="option8" style="background-color: yellow;">Further Dev</option>
                            <option value="option9" style="background-color: orange;">No Updates Needed</option>
                        </select>
                    </td>
                    <td><input type="text" class="custom-color" id="input8"></td>
                    <td>
                        <select id="table2-select2" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option10" style="background-color: green; color: white;">Yes</option>
                            <option value="option11" style="background-color: red;">No</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><input type="text" class="custom-color" id="input9"></td>
                    <td>
                        <select id="table2-select3" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option5" style="background-color: blue; color: white;">Accepted</option>
                            <option value="option6" style="background-color: red; color: white;">Rejected</option>
                            <option value="option7" style="background-color: green; color: white;">Corrected</option>
                            <option value="option8" style="background-color: yellow;">Further Dev</option>
                            <option value="option9" style="background-color: orange;">No Updates Needed</option>
                        </select>
                    </td>
                    <td><input type="text" class="custom-color" id="input10"></td>
                    <td>
                        <select id="table2-select4" class="custom-color" onchange="updateInputAndDropdownBoxColor(this, '')">
                            <option value="option10" style="background-color: green; color: white;">Yes</option>
                            <option value="option11" style="background-color: red;">No</option>
                        </select>
                    </td>
                </tr>
                <!-- Add more rows as needed -->
            </table>
        </div>
    </div>
    <button onclick="addNewRows()">Add New Rows</button>


    <script>
        // JavaScript function to update the background color of the input box based on the selected option
        function updateInputAndDropdownBoxColor(selectElement, inputId) {
            const selectedIndex = selectElement.selectedIndex;
            const selectedOption = selectElement.options[selectedIndex];
            const selectedColor = selectedOption.style.backgroundColor;

            // Update the background color of the input box
            const inputElement = document.getElementById(inputId);
            inputElement.style.backgroundColor = selectedColor;
        }


        // JavaScript function to add new rows to the tables
        function addNewRows() {
            addNewRowToTable('left');
            addNewRowToTable('right');
        }

        // JavaScript function to add new rows to the tables
        function addNewRows() {
            addNewRowToTable('left');
            addNewRowToTable('right');
        }

        // JavaScript function to add new rows to the tables
        function addNewRows() {
            addNewRowToTable('left');
            addNewRowToTable('right');
        }

        // Helper function to add a new row to a specific table
        function addNewRowToTable(tableId) {
            const table = document.getElementById(tableId);
            const lastRow = table.rows[table.rows.length - 1];
            const newRow = lastRow.cloneNode(true);

            // Generate unique index for the new row
            const newRowIndex = table.rows.length + 1;

            // Update IDs for select and input elements
            const selectElements = newRow.querySelectorAll("select");
            const inputElements = newRow.querySelectorAll("input");
            selectElements.forEach((select, index) => {
                // Get the previous select element's ID and table index
                const prevSelectId = select.id;
                const prevSelectIndex = parseInt(prevSelectId.split("-").pop());
                const tableIndex = parseInt(prevSelectId.split("-")[1]);

                // Generate the new unique ID based on the previous ID and table index
                select.id = `table${tableIndex}-select${newRowIndex}_${index + 1}`;

                // Set the corresponding input element's ID for the onchange event
                select.setAttribute("data-input-id", `input${newRowIndex}_${index + 1}`);

                // Set the onchange event listener for the newly added select element
                select.onchange = function() {
                    const inputId = select.getAttribute("data-input-id");
                    const inputElement = document.getElementById(inputId);
                    updateInputAndDropdownBoxColor(selectElement, inputId);
                };
            });

            // Update IDs for input elements only
            inputElements.forEach((input, index) => {
                input.id = `input${newRowIndex}_${index + 1}`;
                input.value = "";
            });

            // Add the new row to the table
            table.appendChild(newRow);
        }
    </script>
</body>

</html>